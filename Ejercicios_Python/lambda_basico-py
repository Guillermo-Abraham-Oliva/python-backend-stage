import os
os.system('clear')

from pprint import pprint # para imprimir dict y list bonitos y facilmente !

'''
------- FUNCIONES LAMBDA TEORIA BASICA ! --------

ğŸ”¹ Uso en backend profesional: 25%

âœ…Se usan en casos pequeÃ±os y especÃ­ficos, como ordenamiento o filtrado rÃ¡pido:
    âœ”ï¸ Funciones anÃ³nimas en map(), filter(), sorted(), etc.
    âœ”ï¸ Operaciones matemÃ¡ticas pequeÃ±as que no necesiten validacion.
    âœ”ï¸ PequeÃ±as transformaciones de datos en APIs.
    âœ”ï¸ solo deben usarse en casos extremadamente simples.

âš ï¸ Advertencia: No abuses de las funciones lambda. 
En cÃ³digo profesional, la legibilidad es mÃ¡s importante que la concisiÃ³n. 
Para lÃ³gica compleja, usa funciones normales (def).
ğŸ“¢ Regla general: Si dudas sobre usar lambda ---> usa def.

âŒ Evita Usarlas: 
âŒ Para lÃ³gica compleja
âŒ mÃºltiples operaciones
âŒ Si necesites estructuras if-elif-else (lambda solo pued contener if y else)
âŒ Requieras try-except para manejar errores
âŒ cuando necesites documentaciÃ³n o comentarios...lambda no admite docstrings.
âŒ cuando necesites reutilizar la funciÃ³n lambda
âŒ Evita Reemplazar funciones normales con ellas sin motivo claro.
'''

# Pasaremos esta funcion a una lambda mas adelante
def area_triangulo(base, altura):
    return (base * altura / 2)

triangulo1 = area_triangulo(5,7)
triangulo2 = area_triangulo(9,6)
print(triangulo1, triangulo2)


# pasando esa funcion a lambda, queda:
area_triangulo = lambda base, altura: (base * altura / 2) # âŒ 10% 

triangulo1 = area_triangulo(5,7)
triangulo2 = area_triangulo(9,6)
print(triangulo1, triangulo2), print()

###############################################################################
####### MÃ¡s ejemplos de lambda ################################################

# âœ”ï¸ Operaciones matemÃ¡ticas simples âŒ 10% 
suma = lambda x, y: x + y
multiplicar = lambda a, b: a * b


# âœ”ï¸ Uso en sorted() 
usuarios = [
    {"nombre": "Carlos", "edad": 30},
    {"nombre": "Ana", "edad": 25},
    {"nombre": "Luis", "edad": 35}
]

# Ordenar por edad
# ğŸ“¢ POR DEFECTO sorted actÃºa ---> de menor a mayor
usuarios_ordenados = sorted(usuarios, key=lambda x: x["edad"]) # âœ… 85%
pprint(usuarios_ordenados), print()

    # Salida:
    #       [
    #          {'nombre': 'Ana', 'edad': 25},
    #          {'nombre': 'Carlos', 'edad': 30},
    #          {'nombre': 'Luis', 'edad': 35}
    #       ]
# âœ… Ãštil cuando obtienes datos JSON de una API y necesitas ordenarlos antes de enviarlos.
# âœ… Puedes cambiar x["edad"] por cualquier otro campo (por ejemplo, x["nombre"]).


# Ordenar registros con valores NULOS (incompletos)
# Si tienes datos que pueden ser None (valores nulos), puedes evitar errores con un lambda.
# ğŸ”¹ Uso futuro en backend profesional: 70%
# âœ… Ãštil cuando trabajas con datos que pueden venir incompletos desde una API o BD.
# âœ… Evita errores al comparar None con enteros.

usuarios = [
    {"nombre": "Carlos", "edad": 30},
    {"nombre": "Ana", "edad": None},
    {"nombre": "Luis", "edad": 25}
]

# Ordenar, moviendo los None al final
usuarios_ordenados = sorted(usuarios, key=lambda x: (x["edad"] is None, x["edad"])) # âœ… 70% 
pprint(usuarios_ordenados), print()
            # Salida:
            # [
            #     {'nombre': 'Luis', 'edad': 25},
            #     {'nombre': 'Carlos', 'edad': 30},
            #     {'nombre': 'Ana', 'edad': None}
            # ]

# EXPLICACION !!!
# Regla en sorted()
# ğŸ“Œ Python ordena primero por el primer valor de la tupla: ordenar por edad
# ğŸ“Œ Si hay empate, usa el segundo valor, en este caso, si es None.

# Entonces, al usar key=lambda x: (x["edad"] is None, x["edad"]), estamos diciendo:
# âœ… Ordena todo por "edad"
# âœ… Si hay alguna "edad" con valor None, ponla al ultimo.-------------------------

# Si quiero los None primero:
usuarios_ordenados = sorted(usuarios, key=lambda x: (not x["edad"] is None, x["edad"])) # âœ… 70%
pprint(usuarios_ordenados), print()


# Ordenar de mayor a menor (ejemplo: ordenar productos por precio).
productos = [
    {"nombre": "Laptop", "precio": 1200},
    {"nombre": "Mouse", "precio": 25},
    {"nombre": "Teclado", "precio": 50}
]

# Ordenar de mayor a menor precio
productos_ordenados = sorted(productos, key=lambda x: x["precio"], reverse=True) # âœ… 90%
pprint(productos_ordenados), print()

    # Salida:
    #       [
    #           {'nombre': 'Laptop', 'precio': 1200},
    #           {'nombre': 'Teclado', 'precio': 50},
    #           {'nombre': 'Mouse', 'precio': 25}
    #       ]
# âœ… Ãštil para mostrar los productos mÃ¡s caros primero.
# âœ… En backend, esto se usa mucho en e-commerce y dashboards.


# âœ”ï¸ Uso de lambda en map(), filter()
numeros = [5, 2, 8, 1]
cuadrados = list(map(lambda x: x**2, numeros))  # Elevar al cuadrado  # âš ï¸ 35%
pares = list(filter(lambda x: x % 2 == 0, numeros))  # Filtrar pares  # âš ï¸ 35%

# âœ… En lambda solo if-else (NO elif)
signo = lambda x: "Positivo" if x > 0 else "Negativo o Cero"  # âš ï¸ 20%

# ğŸ“Œ ConclusiÃ³n:
# Todas las funciones lambda serÃ¡n similares a lo anterior. 
# Solo se pueden usar para expresiones simples y de una sola lÃ­nea. 
# Para todo lo demÃ¡s, usa def.